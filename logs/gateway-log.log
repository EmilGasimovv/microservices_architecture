2024-10-31T09:27:55.193+04:00  INFO 1904 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 1904 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T09:27:55.205+04:00  INFO 1904 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T09:27:56.372+04:00  INFO 1904 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=8776ca27-3b9b-31d3-b19d-fc153a9130b1
2024-10-31T09:27:56.455+04:00  WARN 1904 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T09:27:56.459+04:00  WARN 1904 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T09:27:56.773+04:00  INFO 1904 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T09:27:56.792+04:00  INFO 1904 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T09:27:56.793+04:00  INFO 1904 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T09:27:56.887+04:00  INFO 1904 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T09:27:56.889+04:00  INFO 1904 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1615 ms
2024-10-31T09:27:57.266+04:00 TRACE 1904 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T09:27:57.267+04:00 TRACE 1904 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$784/0x0000023633488c98@6f8e9d06
2024-10-31T09:27:57.958+04:00  INFO 1904 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T09:27:58.094+04:00  WARN 1904 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T09:27:58.140+04:00  INFO 1904 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T09:27:58.165+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T09:27:58.170+04:00  INFO 1904 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:27:58.183+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T09:27:58.183+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T09:27:58.184+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T09:27:58.184+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T09:27:58.184+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T09:27:58.184+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T09:27:58.184+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T09:27:58.505+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T09:27:58.506+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T09:27:58.508+04:00  INFO 1904 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T09:27:58.510+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730352478509 with initial instances count: 0
2024-10-31T09:27:58.514+04:00  INFO 1904 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T09:27:58.516+04:00  INFO 1904 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730352478516, current=UP, previous=STARTING]
2024-10-31T09:27:58.518+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T09:27:58.549+04:00  INFO 1904 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T09:27:58.552+04:00  INFO 1904 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T09:27:58.576+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T09:27:58.668+04:00  INFO 1904 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 4.417 seconds (process running for 6.064)
2024-10-31T09:28:28.510+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2024-10-31T09:28:28.511+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T09:28:28.533+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T09:29:42.420+04:00  INFO 1904 --- [api_gateway] [http-nio-8087-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31T09:29:42.421+04:00  INFO 1904 --- [api_gateway] [http-nio-8087-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-31T09:29:42.422+04:00  INFO 1904 --- [api_gateway] [http-nio-8087-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-31T09:29:42.426+04:00 TRACE 1904 --- [api_gateway] [http-nio-8087-exec-2] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T09:32:58.190+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:37:58.205+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:42:58.222+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:47:58.236+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:52:58.253+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:57:58.268+04:00  INFO 1904 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:58:00.086+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 19 more

2024-10-31T09:58:00.086+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:155)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 22 more

2024-10-31T09:58:00.086+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T09:58:00.086+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T09:58:00.097+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.sendHeartBeat(RestTemplateEurekaHttpClient.java:99)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89)
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845)
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:554)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 20 more

2024-10-31T09:58:00.098+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on PUT request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T09:58:00.098+04:00 ERROR 1904 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - was unable to send heartbeat!

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$3.execute(EurekaHttpClientDecorator.java:92) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.sendHeartBeat(EurekaHttpClientDecorator.java:89) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient.renew(DiscoveryClient.java:845) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient$HeartbeatThread.run(DiscoveryClient.java:1402) ~[eureka-client-2.0.3.jar:2.0.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-10-31T09:58:00.108+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getApplicationsInternal(RestTemplateEurekaHttpClient.java:145)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.getDelta(RestTemplateEurekaHttpClient.java:155)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 23 more

2024-10-31T09:58:00.108+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on GET request for "http://localhost:8761/eureka/apps/delta": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T09:58:00.109+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - was unable to refresh its cache! This periodic background refresh will be retried in 30 seconds. status = Cannot execute request on any known server stacktrace = com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$7.execute(EurekaHttpClientDecorator.java:152)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.getDelta(EurekaHttpClientDecorator.java:149)
	at com.netflix.discovery.DiscoveryClient.getAndUpdateDelta(DiscoveryClient.java:1080)
	at com.netflix.discovery.DiscoveryClient.fetchRegistry(DiscoveryClient.java:963)
	at com.netflix.discovery.DiscoveryClient.refreshRegistry(DiscoveryClient.java:1473)
	at com.netflix.discovery.DiscoveryClient$CacheRefreshThread.run(DiscoveryClient.java:1441)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)

2024-10-31T09:58:04.147+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T09:58:04.148+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730354284148, current=DOWN, previous=UP]
2024-10-31T09:58:04.148+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T09:58:04.163+04:00  INFO 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on POST request for "http://localhost:8761/eureka/apps/API_GATEWAY": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8761/eureka/apps/API_GATEWAY": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.register(RestTemplateEurekaHttpClient.java:77)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56)
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828)
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125)
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 22 more

2024-10-31T09:58:04.163+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on POST request for "http://localhost:8761/eureka/apps/API_GATEWAY": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T09:58:04.163+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration failed Cannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105) ~[eureka-client-2.0.3.jar:2.0.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-10-31T09:58:04.164+04:00  WARN 1904 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] c.n.discovery.InstanceInfoReplicator     : There was a problem with the instance info replicator

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$1.execute(EurekaHttpClientDecorator.java:59) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.register(EurekaHttpClientDecorator.java:56) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient.register(DiscoveryClient.java:828) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.InstanceInfoReplicator.run(InstanceInfoReplicator.java:125) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.InstanceInfoReplicator$2.run(InstanceInfoReplicator.java:105) ~[eureka-client-2.0.3.jar:2.0.3]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-10-31T09:58:04.359+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T09:58:07.371+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T09:58:07.384+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 404
2024-10-31T09:58:07.384+04:00  INFO 1904 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T09:58:15.797+04:00  INFO 9268 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 9268 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T09:58:15.801+04:00  INFO 9268 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T09:58:16.656+04:00  INFO 9268 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T09:58:16.715+04:00  WARN 9268 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T09:58:16.717+04:00  WARN 9268 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T09:58:16.940+04:00  INFO 9268 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T09:58:16.954+04:00  INFO 9268 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T09:58:16.955+04:00  INFO 9268 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T09:58:17.049+04:00  INFO 9268 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T09:58:17.049+04:00  INFO 9268 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1198 ms
2024-10-31T09:58:17.389+04:00 TRACE 9268 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T09:58:17.390+04:00 TRACE 9268 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$784/0x000001accf481e30@43cb5f38
2024-10-31T09:58:18.030+04:00  INFO 9268 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T09:58:18.157+04:00  WARN 9268 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T09:58:18.203+04:00  INFO 9268 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T09:58:18.228+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T09:58:18.233+04:00  INFO 9268 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T09:58:18.242+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T09:58:18.243+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T09:58:18.458+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T09:58:18.459+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T09:58:18.461+04:00  INFO 9268 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T09:58:18.462+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730354298462 with initial instances count: 0
2024-10-31T09:58:18.465+04:00  INFO 9268 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T09:58:18.466+04:00  INFO 9268 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730354298466, current=UP, previous=STARTING]
2024-10-31T09:58:18.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T09:58:18.488+04:00  INFO 9268 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T09:58:18.489+04:00  INFO 9268 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T09:58:18.515+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T09:58:18.575+04:00  INFO 9268 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 3.416 seconds (process running for 4.366)
2024-10-31T09:58:48.467+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T09:58:48.467+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T09:58:48.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T09:58:48.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T09:58:48.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T09:58:48.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2024-10-31T09:58:48.468+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T09:58:48.498+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T09:59:29.279+04:00  INFO 9268 --- [api_gateway] [http-nio-8087-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31T09:59:29.279+04:00  INFO 9268 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-31T09:59:29.280+04:00  INFO 9268 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-31T09:59:29.284+04:00 TRACE 9268 --- [api_gateway] [http-nio-8087-exec-1] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T10:03:18.256+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:08:18.274+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:13:18.281+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:18:18.290+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:23:18.310+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:28:18.313+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:33:18.328+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:38:18.342+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:43:18.350+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:48:18.362+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:53:18.371+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T10:58:18.388+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:03:18.396+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:08:18.406+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:13:18.417+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:18:18.420+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:23:18.429+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:28:18.444+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:33:18.458+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:38:18.461+04:00  INFO 9268 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:41:47.383+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T11:41:47.394+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730360507394, current=DOWN, previous=UP]
2024-10-31T11:41:47.401+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T11:41:47.549+04:00  INFO 9268 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T11:41:48.111+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T11:41:51.131+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T11:41:51.192+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T11:41:51.195+04:00  INFO 9268 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T11:42:42.633+04:00  INFO 15184 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 15184 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T11:42:42.644+04:00  INFO 15184 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T11:42:45.930+04:00  INFO 15184 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T11:42:46.164+04:00  WARN 15184 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T11:42:46.171+04:00  WARN 15184 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T11:42:46.856+04:00  INFO 15184 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T11:42:46.896+04:00  INFO 15184 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T11:42:46.897+04:00  INFO 15184 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T11:42:47.128+04:00  INFO 15184 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T11:42:47.130+04:00  INFO 15184 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4265 ms
2024-10-31T11:42:47.892+04:00 TRACE 15184 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T11:42:47.894+04:00 TRACE 15184 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$772/0x000001c19446a288@47acd13b
2024-10-31T11:42:49.594+04:00  INFO 15184 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T11:42:49.912+04:00  WARN 15184 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T11:42:50.027+04:00  INFO 15184 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T11:42:50.086+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T11:42:50.099+04:00  INFO 15184 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:42:50.118+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T11:42:50.118+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T11:42:50.119+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T11:42:50.119+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T11:42:50.120+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T11:42:50.121+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T11:42:50.121+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T11:42:50.803+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T11:42:50.808+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T11:42:50.814+04:00  INFO 15184 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T11:42:50.821+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730360570818 with initial instances count: 2
2024-10-31T11:42:50.829+04:00  INFO 15184 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T11:42:50.832+04:00  INFO 15184 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730360570832, current=UP, previous=STARTING]
2024-10-31T11:42:50.838+04:00  INFO 15184 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T11:42:50.902+04:00  INFO 15184 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T11:42:50.906+04:00  INFO 15184 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T11:42:50.956+04:00  INFO 15184 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T11:42:51.147+04:00  INFO 15184 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 11.181 seconds (process running for 16.051)
2024-10-31T11:43:17.611+04:00  INFO 15184 --- [api_gateway] [http-nio-8087-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31T11:43:17.612+04:00  INFO 15184 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-31T11:43:17.614+04:00  INFO 15184 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-10-31T11:43:17.630+04:00 TRACE 15184 --- [api_gateway] [http-nio-8087-exec-1] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T11:44:25.717+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T11:44:25.718+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730360665718, current=DOWN, previous=UP]
2024-10-31T11:44:25.719+04:00  INFO 15184 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T11:44:25.748+04:00  INFO 15184 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T11:44:26.322+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T11:44:29.333+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T11:44:29.356+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T11:44:29.358+04:00  INFO 15184 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T11:44:42.083+04:00  INFO 13824 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 13824 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T11:44:42.096+04:00  INFO 13824 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T11:44:44.314+04:00  INFO 13824 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T11:44:44.466+04:00  WARN 13824 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T11:44:44.473+04:00  WARN 13824 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T11:44:45.021+04:00  INFO 13824 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T11:44:45.049+04:00  INFO 13824 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T11:44:45.049+04:00  INFO 13824 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T11:44:45.250+04:00  INFO 13824 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T11:44:45.251+04:00  INFO 13824 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3017 ms
2024-10-31T11:44:46.002+04:00 TRACE 13824 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T11:44:46.005+04:00 TRACE 13824 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$772/0x0000020001466de8@6b9fdbc6
2024-10-31T11:44:47.551+04:00  INFO 13824 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T11:44:47.895+04:00  WARN 13824 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T11:44:48.008+04:00  INFO 13824 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T11:44:48.069+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T11:44:48.082+04:00  INFO 13824 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:44:48.117+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T11:44:48.118+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T11:44:48.118+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T11:44:48.119+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T11:44:48.119+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T11:44:48.120+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T11:44:48.121+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T11:44:48.762+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T11:44:48.767+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T11:44:48.772+04:00  INFO 13824 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T11:44:48.776+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730360688774 with initial instances count: 2
2024-10-31T11:44:48.784+04:00  INFO 13824 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T11:44:48.789+04:00  INFO 13824 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730360688789, current=UP, previous=STARTING]
2024-10-31T11:44:48.795+04:00  INFO 13824 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T11:44:48.856+04:00  INFO 13824 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T11:44:48.861+04:00  INFO 13824 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T11:44:48.927+04:00  INFO 13824 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T11:44:49.157+04:00  INFO 13824 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 8.541 seconds (process running for 10.972)
2024-10-31T11:48:35.388+04:00  INFO 13824 --- [api_gateway] [http-nio-8087-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31T11:48:35.389+04:00  INFO 13824 --- [api_gateway] [http-nio-8087-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-31T11:48:35.393+04:00  INFO 13824 --- [api_gateway] [http-nio-8087-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-10-31T11:48:35.414+04:00 TRACE 13824 --- [api_gateway] [http-nio-8087-exec-2] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T11:49:48.136+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:54:48.150+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T11:59:48.157+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:04:48.165+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:09:48.175+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:14:48.185+04:00  INFO 13824 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:17:03.825+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T12:17:03.825+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730362623825, current=DOWN, previous=UP]
2024-10-31T12:17:03.825+04:00  INFO 13824 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:17:03.842+04:00  INFO 13824 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:17:03.973+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T12:17:06.983+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T12:17:07.002+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T12:17:07.002+04:00  INFO 13824 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T12:17:14.211+04:00  INFO 21420 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 21420 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T12:17:14.214+04:00  INFO 21420 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T12:17:15.088+04:00  INFO 21420 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T12:17:15.148+04:00  WARN 21420 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T12:17:15.150+04:00  WARN 21420 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T12:17:15.393+04:00  INFO 21420 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T12:17:15.407+04:00  INFO 21420 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T12:17:15.407+04:00  INFO 21420 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T12:17:15.488+04:00  INFO 21420 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T12:17:15.488+04:00  INFO 21420 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1228 ms
2024-10-31T12:17:15.824+04:00 TRACE 21420 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T12:17:15.826+04:00 TRACE 21420 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$782/0x0000023954480498@716185fe
2024-10-31T12:17:16.564+04:00  INFO 21420 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T12:17:16.707+04:00  WARN 21420 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T12:17:16.750+04:00  INFO 21420 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T12:17:16.778+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T12:17:16.783+04:00  INFO 21420 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T12:17:16.794+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T12:17:17.003+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T12:17:17.006+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T12:17:17.009+04:00  INFO 21420 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T12:17:17.012+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730362637010 with initial instances count: 3
2024-10-31T12:17:17.015+04:00  INFO 21420 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T12:17:17.016+04:00  INFO 21420 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730362637016, current=UP, previous=STARTING]
2024-10-31T12:17:17.018+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:17:17.042+04:00  INFO 21420 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T12:17:17.044+04:00  INFO 21420 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T12:17:17.101+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:17:17.177+04:00  INFO 21420 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 3.661 seconds (process running for 4.61)
2024-10-31T12:17:45.045+04:00  INFO 21420 --- [api_gateway] [http-nio-8087-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-31T12:17:45.046+04:00  INFO 21420 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-31T12:17:45.047+04:00  INFO 21420 --- [api_gateway] [http-nio-8087-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-31T12:17:45.051+04:00 TRACE 21420 --- [api_gateway] [http-nio-8087-exec-1] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T12:17:55.380+04:00 TRACE 21420 --- [api_gateway] [http-nio-8087-exec-3] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T12:18:03.584+04:00 TRACE 21420 --- [api_gateway] [http-nio-8087-exec-4] o.s.c.g.s.m.f.WeightCalculatorFilter     : Weights attr: {}
2024-10-31T12:19:17.103+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - Re-registering apps/API_GATEWAY
2024-10-31T12:19:17.104+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:19:17.114+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2024-10-31T12:19:47.127+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T12:19:47.147+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T12:19:48.286+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T12:19:48.286+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730362788286, current=DOWN, previous=UP]
2024-10-31T12:19:48.286+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:19:48.297+04:00  INFO 21420 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:19:48.429+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T12:19:51.434+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T12:19:51.453+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T12:19:51.453+04:00  INFO 21420 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T12:19:58.613+04:00  INFO 21944 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 21944 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T12:19:58.615+04:00  INFO 21944 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T12:19:59.462+04:00  INFO 21944 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T12:19:59.517+04:00  WARN 21944 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T12:19:59.519+04:00  WARN 21944 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T12:19:59.700+04:00  INFO 21944 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T12:19:59.713+04:00  INFO 21944 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T12:19:59.713+04:00  INFO 21944 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T12:19:59.779+04:00  INFO 21944 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T12:19:59.780+04:00  INFO 21944 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1119 ms
2024-10-31T12:20:00.053+04:00 TRACE 21944 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T12:20:00.055+04:00 TRACE 21944 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$782/0x000001c226481478@67bd351e
2024-10-31T12:20:00.700+04:00  INFO 21944 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T12:20:00.834+04:00  WARN 21944 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T12:20:00.879+04:00  INFO 21944 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T12:20:00.903+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T12:20:00.910+04:00  INFO 21944 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T12:20:00.919+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T12:20:01.147+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T12:20:01.149+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T12:20:01.151+04:00  INFO 21944 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T12:20:01.153+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730362801152 with initial instances count: 2
2024-10-31T12:20:01.157+04:00  INFO 21944 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T12:20:01.158+04:00  INFO 21944 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730362801158, current=UP, previous=STARTING]
2024-10-31T12:20:01.160+04:00  INFO 21944 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:20:01.185+04:00  INFO 21944 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T12:20:01.187+04:00  INFO 21944 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T12:20:01.207+04:00  INFO 21944 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:20:01.280+04:00  INFO 21944 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 3.303 seconds (process running for 4.259)
2024-10-31T12:25:00.932+04:00  INFO 21944 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:30:00.948+04:00  INFO 21944 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:33:45.796+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T12:33:45.797+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730363625797, current=DOWN, previous=UP]
2024-10-31T12:33:45.797+04:00  INFO 21944 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:33:45.815+04:00  INFO 21944 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:33:46.054+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T12:33:49.063+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T12:33:49.071+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/} exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:91)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 39 more

2024-10-31T12:33:49.071+04:00  WARN 21944 --- [api_gateway] [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T12:33:49.096+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt stacktrace=org.springframework.web.client.ResourceAccessException: I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateEurekaHttpClient.cancel(RestTemplateEurekaHttpClient.java:87)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.executeOnNewServer(RedirectingEurekaHttpClient.java:121)
	at com.netflix.discovery.shared.transport.decorator.RedirectingEurekaHttpClient.execute(RedirectingEurekaHttpClient.java:80)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:120)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74)
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76)
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71)
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919)
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195)
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389)
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: org.apache.hc.client5.http.HttpHostConnectException: Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.lambda$connectSocket$0(PlainConnectionSocketFactory.java:91)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at org.apache.hc.client5.http.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:90)
	at org.apache.hc.client5.http.socket.ConnectionSocketFactory.connectSocket(ConnectionSocketFactory.java:123)
	at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:189)
	at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:450)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)
	at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)
	at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:113)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:116)
	at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)
	at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:87)
	at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:55)
	at org.apache.hc.client5.http.classic.HttpClient.executeOpen(HttpClient.java:183)
	at org.springframework.http.client.HttpComponentsClientHttpRequest.executeInternal(HttpComponentsClientHttpRequest.java:99)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at org.springframework.cloud.netflix.eureka.http.RestTemplateTransportClientFactory.lambda$restTemplate$3(RestTemplateTransportClientFactory.java:170)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	... 40 more

2024-10-31T12:33:49.096+04:00  WARN 21944 --- [api_gateway] [SpringApplicationShutdownHook] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: I/O error on DELETE request for "http://localhost:8761/eureka/apps/API_GATEWAY/api_gateway:8087": Connect to http://localhost:8761 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: getsockopt
2024-10-31T12:33:49.096+04:00 ERROR 21944 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - de-registration failedCannot execute request on any known server

com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server
	at com.netflix.discovery.shared.transport.decorator.RetryableEurekaHttpClient.execute(RetryableEurekaHttpClient.java:112) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator$2.execute(EurekaHttpClientDecorator.java:74) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.SessionedEurekaHttpClient.execute(SessionedEurekaHttpClient.java:76) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.shared.transport.decorator.EurekaHttpClientDecorator.cancel(EurekaHttpClientDecorator.java:71) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient.unregister(DiscoveryClient.java:919) ~[eureka-client-2.0.3.jar:2.0.3]
	at com.netflix.discovery.DiscoveryClient.shutdown(DiscoveryClient.java:900) ~[eureka-client-2.0.3.jar:2.0.3]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeDestroyMethods(InitDestroyAnnotationBeanPostProcessor.java:415) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeDestruction(InitDestroyAnnotationBeanPostProcessor.java:239) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:202) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.run(DisposableBeanAdapter.java:195) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.destroy(GenericScope.java:389) ~[spring-cloud-context-4.1.4.jar:4.1.4]
	at org.springframework.cloud.context.scope.GenericScope.destroy(GenericScope.java:136) ~[spring-cloud-context-4.1.4.jar:4.1.4]
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:211) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1202) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1195) ~[spring-beans-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1195) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1156) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1102) ~[spring-context-6.1.14.jar:6.1.14]
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145) ~[spring-boot-3.3.5.jar:3.3.5]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114) ~[spring-boot-3.3.5.jar:3.3.5]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-10-31T12:33:49.100+04:00  INFO 21944 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T12:36:51.053+04:00  INFO 12712 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 12712 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T12:36:51.057+04:00  INFO 12712 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T12:36:52.284+04:00  INFO 12712 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7bb0b4c0-dacf-35ac-a33b-49bf76a51760
2024-10-31T12:36:52.360+04:00  WARN 12712 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T12:36:52.362+04:00  WARN 12712 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T12:36:52.601+04:00  INFO 12712 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T12:36:52.614+04:00  INFO 12712 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T12:36:52.614+04:00  INFO 12712 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T12:36:52.693+04:00  INFO 12712 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T12:36:52.693+04:00  INFO 12712 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1575 ms
2024-10-31T12:36:53.030+04:00 TRACE 12712 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T12:36:53.031+04:00 TRACE 12712 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$783/0x0000018301484610@6418e39e
2024-10-31T12:36:53.660+04:00  INFO 12712 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T12:36:53.773+04:00  WARN 12712 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T12:36:53.820+04:00  INFO 12712 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T12:36:53.845+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T12:36:53.850+04:00  INFO 12712 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T12:36:53.858+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T12:36:53.859+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T12:36:54.262+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T12:36:54.263+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T12:36:54.264+04:00  INFO 12712 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T12:36:54.266+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730363814265 with initial instances count: 0
2024-10-31T12:36:54.269+04:00  INFO 12712 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T12:36:54.270+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730363814270, current=UP, previous=STARTING]
2024-10-31T12:36:54.272+04:00  INFO 12712 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:36:54.302+04:00  INFO 12712 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T12:36:54.303+04:00  INFO 12712 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T12:36:54.403+04:00  INFO 12712 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:36:54.409+04:00  INFO 12712 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 4.107 seconds (process running for 4.979)
2024-10-31T12:36:54.420+04:00  INFO 12712 --- [api_gateway] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-31T12:36:54.440+04:00 ERROR 12712 --- [api_gateway] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086": Connection refused: connect
	at org.springframework.web.client.RestTemplate.createResourceAccessException(RestTemplate.java:915) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:895) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:431) ~[spring-web-6.1.14.jar:6.1.14]
	at com.example.api_gateway.starter.ServiceStarterRunner.startService(ServiceStarterRunner.java:23) ~[main/:na]
	at com.example.api_gateway.starter.ServiceStarterRunner.run(ServiceStarterRunner.java:15) ~[main/:na]
	at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:790) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88) ~[spring-core-6.1.14.jar:6.1.14]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:789) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:774) ~[spring-boot-3.3.5.jar:3.3.5]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:774) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:342) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.5.jar:3.3.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.5.jar:3.3.5]
	at com.example.api_gateway.ApiGatewayApplication.main(ApiGatewayApplication.java:9) ~[main/:na]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.connect(Net.java:579) ~[na:na]
	at java.base/sun.nio.ch.Net.connect(Net.java:568) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:583) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:533) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:638) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:281) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889) ~[spring-web-6.1.14.jar:6.1.14]
	... 24 common frames omitted

2024-10-31T12:36:54.445+04:00  INFO 12712 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T12:36:54.445+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730363814445, current=DOWN, previous=UP]
2024-10-31T12:36:54.445+04:00  INFO 12712 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T12:36:54.453+04:00  INFO 12712 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T12:36:54.622+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T12:36:57.626+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T12:36:57.654+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T12:36:57.654+04:00  INFO 12712 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
2024-10-31T13:39:03.284+04:00  INFO 11664 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Starting ApiGatewayApplication using Java 17.0.11 with PID 11664 (C:\Users\emil.qasimov\Desktop\Book_Selling\api_gateway\build\classes\java\main started by emil.qasimov in C:\Users\emil.qasimov\Desktop\Book_Selling)
2024-10-31T13:39:03.287+04:00  INFO 11664 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : No active profile set, falling back to 1 default profile: "default"
2024-10-31T13:39:04.168+04:00  INFO 11664 --- [api_gateway] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b1310015-c66c-3410-b93d-3835d3668863
2024-10-31T13:39:04.231+04:00  WARN 11664 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerAutoConfiguration$DeferringLoadBalancerInterceptorConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). The currently created BeanPostProcessor [lbRestClientPostProcessor] is declared through a non-static factory method on that class; consider declaring it as static instead.
2024-10-31T13:39:04.234+04:00  WARN 11664 --- [api_gateway] [main] trationDelegate$BeanPostProcessorChecker : Bean 'deferringLoadBalancerInterceptor' of type [org.springframework.cloud.client.loadbalancer.DeferringLoadBalancerInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [lbRestClientPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-10-31T13:39:04.459+04:00  INFO 11664 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8087 (http)
2024-10-31T13:39:04.473+04:00  INFO 11664 --- [api_gateway] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-31T13:39:04.473+04:00  INFO 11664 --- [api_gateway] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-10-31T13:39:04.555+04:00  INFO 11664 --- [api_gateway] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-31T13:39:04.555+04:00  INFO 11664 --- [api_gateway] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1224 ms
2024-10-31T13:39:04.850+04:00 TRACE 11664 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initializing with 0 map routes and 0 list routes
2024-10-31T13:39:04.851+04:00 TRACE 11664 --- [api_gateway] [main] .s.c.g.s.m.c.RouterFunctionHolderFactory : RouterFunctionHolder initialized Never -> org.springframework.cloud.gateway.server.mvc.config.RouterFunctionHolderFactory$$Lambda$770/0x00000132cd4671d8@2e4389ed
2024-10-31T13:39:05.553+04:00  INFO 11664 --- [api_gateway] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2024-10-31T13:39:05.680+04:00  WARN 11664 --- [api_gateway] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-10-31T13:39:05.724+04:00  INFO 11664 --- [api_gateway] [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2024-10-31T13:39:05.746+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2024-10-31T13:39:05.751+04:00  INFO 11664 --- [api_gateway] [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T13:39:05.760+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T13:39:05.760+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T13:39:05.760+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T13:39:05.761+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T13:39:05.761+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T13:39:05.761+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2024-10-31T13:39:05.761+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T13:39:06.074+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T13:39:06.075+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2024-10-31T13:39:06.077+04:00  INFO 11664 --- [api_gateway] [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2024-10-31T13:39:06.080+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1730367546078 with initial instances count: 0
2024-10-31T13:39:06.083+04:00  INFO 11664 --- [api_gateway] [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application API_GATEWAY with eureka with status UP
2024-10-31T13:39:06.084+04:00  INFO 11664 --- [api_gateway] [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730367546084, current=UP, previous=STARTING]
2024-10-31T13:39:06.087+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T13:39:06.109+04:00  INFO 11664 --- [api_gateway] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8087 (http) with context path '/'
2024-10-31T13:39:06.110+04:00  INFO 11664 --- [api_gateway] [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8087
2024-10-31T13:39:06.152+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T13:39:06.215+04:00  INFO 11664 --- [api_gateway] [main] c.e.api_gateway.ApiGatewayApplication    : Started ApiGatewayApplication in 3.446 seconds (process running for 5.705)
2024-10-31T13:39:36.076+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2024-10-31T13:39:36.077+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T13:39:36.100+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T13:44:05.773+04:00  INFO 11664 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T13:49:05.781+04:00  INFO 11664 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T13:54:05.797+04:00  INFO 11664 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T13:59:05.813+04:00  INFO 11664 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T14:04:05.816+04:00  INFO 11664 --- [api_gateway] [AsyncResolver-bootstrap-executor-%d] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2024-10-31T14:04:37.745+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - Re-registering apps/API_GATEWAY
2024-10-31T14:04:37.746+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T14:04:37.753+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-HeartbeatExecutor-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application is null : false
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Application version is -1: false
2024-10-31T14:05:07.527+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2024-10-31T14:05:07.546+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-CacheRefreshExecutor-%d] com.netflix.discovery.DiscoveryClient    : The response status is 200
2024-10-31T14:07:09.552+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] o.s.c.n.e.s.EurekaServiceRegistry        : Unregistering application API_GATEWAY with eureka with status DOWN
2024-10-31T14:07:09.552+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1730369229552, current=DOWN, previous=UP]
2024-10-31T14:07:09.552+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087: registering service...
2024-10-31T14:07:09.561+04:00  INFO 11664 --- [api_gateway] [DiscoveryClient-InstanceInfoReplicator-%d] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - registration status: 204
2024-10-31T14:07:09.702+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Shutting down DiscoveryClient ...
2024-10-31T14:07:12.714+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Unregistering ...
2024-10-31T14:07:12.734+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_API_GATEWAY/api_gateway:8087 - deregister  status: 200
2024-10-31T14:07:12.734+04:00  INFO 11664 --- [api_gateway] [SpringApplicationShutdownHook] com.netflix.discovery.DiscoveryClient    : Completed shut down of DiscoveryClient
